---
title: `【译】什么是 webpack 以及我为什么需要关注它？`
date: 2019-03-18 18:45:30
tags:
  - JavaScript
---

作者：Ciel
出处：Medium
原文链接：https://medium.com/the-self-taught-programmer/what-is-webpack-and-why-should-i-care-part-1-introduction-ca4da7d0d8dc

---

在今天的开发环境下学习 JavaScript 是一个相当令人畏惧的任务—因为这门语言发展到了从未有过的高度，相比从前你可以做更多的选择，即使最基础的入门教程也涵盖了大量的信息。在我们攀爬 JavaScript 的天梯时，我们在它「模块」知识点前稍作停留。

## 这个系列是写给谁看的？

这个系列的博客文章，是给那些利用 JavaScript 进行基于网页应用开发的开发者们。不管他们的目标是浏览器网页开发，还是用 JavaScript 引擎比如 nodjs 进行本地 app 开发。

> nodejs 的知识也很精深，已经超出了此入门教程范围。如果想学更多，可以去 nodejs 的官网：https://nodejs.org。我们假设你在学这篇入门教程的时候会用npm（node的包管理器）。
> 网页应用也是应用，我的通篇博客文章都会使用这个术语。

## 我们在设计什么？

我们准备开发一个轻量的应用 caterpillar。这个应用将示范使用 Webpacck 来装载 JavaScript、SCSS，而且利用到目前超前的编辑和无用代码修剪功能。

## 这个系列需要哪些准备？

- 希望你已经装好 npm 包管理器；如过你对 yarn 熟悉，也可以选 yarn。但是我们这个教程会用`npm`
- 你必须能连上网络
- 不管你用哪个版本的 windows 系统，苹果 OSX 系统，还是哪种 linux 系统。你不需要了解操作系统的实现原理。
- 你需要知道一些基本的 JavaScript 知识。这个系列会用到 JavaScript 的基础知识。
- 假设你已经有一个喜欢的开发环境比如：Noteapd++，Atom，VisualStudioCode，Webstorm 等等。不管你用哪种编辑器都可以。
- 假设你已经知道如何在 windows 系统，苹果系统或不管哪个分支的 linux 系统中打开一个终端。这样就足够做以下的事情了：
  - --在目录之间跳转
  - --运行`npm install`
  - --运行 `npm start`

## 什么是 webpack？

Webpack 是一个模块打包器。需要提醒的是，在你打开页面的时候 webpack 没有运行，它只在你开发的时候运行。

Webpack 是一个工具，在这个工具里我们设定一个配置文件，告诉打包器如何装载用的到的东西。你来决定 Webpack 如何装载\*.js 文件,或者它应该如何显示.scss 文件等等。然后，当你运行它的时候，在你运行它的那一刻，它会自动工作下载好你的程序，并且很清楚它需要哪些文件，这些文件以什么样的顺序编排，并且每个文件的各自依赖是什么。然后它就生成的编译文件，它给出的这个文件已经尽可能的精简、优化过了。符合你程序中脚本中的要求。

为了理解这意味折什么，让我们简单回顾一下 JavaScript 的历史，为什么这样的行为是**必要的**。

> 一些开发者觉得使用模板装载器是不明智的，而且倾向于使用传统的人工配置一切的做法。理解所有的文件当然是有价值的，也没必要觉得被强迫使用模块装载器。不管怎么样，模块装载能大大加速开发的流程这个说法已经甚嚣尘上。我个人认为使用它是明智的，但是你还是自己体验，来找出哪个对你自己来说最有效。

## 过去是怎样的

曾经，我们的网页上很少有脚本。你只需要简单的几行代码就可以引入它，比如像这样：

```
<head>
   <script src="scripts.js" type="text/javascript"></script>
</head>
```

那个简朴的年代，你的网页不需要或者只要很少的脚本。你可以在这些文件里搞定一切，而且你可以轻松的没有冲突地装载他们。

## 现在是怎样的

在过去 10 年里，网页开发领域已经发生翻天覆地的变化。如今我们有一堆脚本，每个脚本各有用途，通常每个脚本都是由不同的人开发出来的，每个脚本都有不同的依赖。

一个中型甚至小型的网站需要一些脚本库也再正常不过了。而且，这些库很多时候本身还依赖其他库—我们叫做 dependecies。不仅是要装载这些脚本，你还要理解他们本身需要装载什么、先装哪一个?!

## 默认的异步

但是别急，还有一件事！不仅你需要以正确的顺序装载一切，**JavaScript 默认是同一时间装载一切的**。这让我们焦头烂额，很有可能你进步加载实际顺序和你宣称的顺序是不同的。

这种行为就叫做异步—这意味着当你在执行面向文本的代码时（本例是网页浏览器），在你打开页面初步加载后，实际背后还在运行直到它真正加载完毕。

## 把它放入模块

脚本的这个问题是如此普遍以致整个社区决定着手解决它。于是就涌现了一系列的标准—我们成为 modules。modules 背后的思想是一种方法来囊括所有的脚本，然后我们把它叫做一个 package。这样这个包裹可以轻松的装载，而且申明用做其他模块的依赖。理想情况下，这将能在我们需要的地方装载一切脚本，它自己也直到需要依赖什么。这让我们的大脑不再一团乱麻。

然而，JavaScript 的进化很慢，任何标准或行为的改变也需要浏览器的配合跟进才能被支持。这就让事情的推进变得困难。因为，浏览器更新的过程是一个很慢常的过程。一些用户要么是缺乏技术知识，要么是怕破坏原有配置，不会去更新他们的浏览器。

## 我们的救星 Loaders 来了

所以，造成了目前的状况，当前的解决方案是模块装载器（module loaders）。一个模块装载器通常是一个工具或者脚本，开发者用来传递他们的 JavaScript 代码。这个工具或脚本负责决定装载顺序，依赖，效用，路径等等。它工作职责就是让你的脚本像你期望那样的工作，你就不需要关心过程。

现有好几种模块装载器，其中最出名的有 Webpack，SystemJS，JSPM，RequireJS，以及 RollUp。这个系列的如门教程会聚焦在 Webpack 上，仅仅是因为我选择用这个装载器。我没有列出的模块装载器还有很多，因为很显然我还没有试用过他们。

> 请注意，我并没有宣称 Webpack 是所有装载启动里面最好的。仅仅是我喜欢它，选用了它而已。每个其他的装载器也是出奇的好用，而且已经正被许多各种各样的公司使用。事实上，我们公司在大型应用里面，工程的不同部分使用不同的装载器。比如，我们谷歌的 Angular 内部的 angular/cli，内置使用了 Webpack，但是它用 RollUp 来创建它的 anuglar 包。

上面介绍了这么多，让我们开始吧…!
